## 그룹 채팅 부분 전역 상태로 관리하기

원래는 useState를 사용해서 관리를 하려고 했습니다. 근데 prop drilling이 너무 심해 전역 상태로 관리했습니다. 심했던 부분은 멤버 관리 부분이었습니다. 현재 멤버, 추가할 멤버, 그리고 추가 기능까지 구현하기 위해 여러 컴포넌트가 중첩이 된 상태에서 prop drilling은 너무 복잡했습니다.

## 배열 대신 객체 쓰기

예를 들면 다음과 같습니다.

|배열을 쓰는 경우|

```js
[
  {
    id: 'id1',
    name: 'a',
    photo: 'asdf',
  },
  {
    id: 'id2',
    name: 'b',
    photo: 'qwer',
  },
];
```

|객체를 쓰는 경우|

```js
{
  id1: {
    name: 'a',
    photo: 'asdf'
  },
  id2: {
    name: 'b',
    photo: 'qwer'
  }
}
```

시간 복잡도를 줄이고, 코드를 간결하게 하기 위해 저렇게 변환을 했습니다. 예를 들어 위의 예시에서 id2인 사람의 이름을 찾는다고 가정하겠습니다. 배열의 경우 반복문 등을 써야 하지만, 객체의 경우 키를 통해 바로 접근할 수 있습니다.

[components > many > Message.tsx > AnotherMessage 컴포넌트의 'name' prop]을 보시면 'allPeople[author].name'이라고 되어 있습니다.

## useQuery의 경우 hook을 쓰지 않은 이유

코드가 간단하다고 판단해서 쓰지 않았습니다.
